entities:
- name: container
  namespace: laplacian_arch.deployment
  subtype_of: deployment_component

  examples:
  - name: postgres
    type: container

  - name: pv-container
    type: container
    container_registry: gcr.io
    image_name: google_containers/volume-nfs
    image_tag: "0.8"

  properties:
  - name: image_name
    type: string
    optional: true
    default_value: |
      name
    example_values:
    - postgres
    - google_containers/volume-nfs

  - name: container_registry
    type: string
    optional: true
    default_value: |
      ""
    example_values:
    - ""
    - gcr.io

  - name: image_tag
    type: string
    optional: true
    default_value: |
      "latest"
    example_values:
    - latest
    - '0.8'

  - name: image
    type: string
    snippet: |
      (if (containerRegistry.isNullOrEmpty()) "" else containerRegistry + "/") + "$imageName:$imageTag"
    example_values:
    - postgres:latest
    - gcr.io/google_containers/volume-nfs:0.8
